<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Aplikasi Prediksi Stroke (ANN)</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
  <div class="container mt-5">

    <!-- JUDUL -->
    <div class="text-center mb-4">
      <button class="btn-title-neon title-button">
        ðŸ§  Prediksi Risiko Stroke (ANN) ðŸ§ 
      </button>
    </div>

    <!-- CARD FORM -->
    <div class="card shadow-lg p-4 border-0 rounded-4">

      <p class="text-center text-light mb-4">
        Masukkan data pasien untuk memprediksi <b>risiko stroke</b>.
      </p>

      <form method="POST" action="/" class="row g-3">

        <!-- 1. GENDER -->
        <div class="col-md-4">
          <label class="form-label">Gender</label>
          <select name="gender" class="form-select" required>
            <option value="">-- Pilih Gender --</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <!-- 2. AGE -->
        <div class="col-md-4">
          <label class="form-label">Age</label>
          <input type="number" name="age" class="form-control"
                 min="0" step="0.1" required placeholder="contoh: 45">
        </div>

        <!-- 3. HYPERTENSION -->
        <div class="col-md-4">
          <label class="form-label">Hypertension</label>
          <select name="hypertension" class="form-select" required>
            <option value="">-- Pilih --</option>
            <option value="0">0 (Tidak)</option>
            <option value="1">1 (Ya)</option>
          </select>
        </div>

        <!-- 4. HEART DISEASE -->
        <div class="col-md-4">
          <label class="form-label">Heart Disease</label>
          <select name="heart_disease" class="form-select" required>
            <option value="">-- Pilih --</option>
            <option value="0">0 (Tidak)</option>
            <option value="1">1 (Ya)</option>
          </select>
        </div>

        <!-- 5. EVER MARRIED -->
        <div class="col-md-4">
          <label class="form-label">Ever Married</label>
          <select name="ever_married" class="form-select" required>
            <option value="">-- Pilih --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- 6. WORK TYPE -->
        <div class="col-md-4">
          <label class="form-label">Work Type</label>
          <select name="work_type" class="form-select" required>
            <option value="">-- Pilih --</option>
            <option value="Private">Private</option>
            <option value="Self-employed">Self-employed</option>
            <option value="Govt_job">Govt_job</option>
            <option value="children">children</option>
            <option value="Never_worked">Never_worked</option>
          </select>
        </div>

        <!-- 7. RESIDENCE TYPE -->
        <div class="col-md-4">
          <label class="form-label">Residence Type</label>
          <select name="Residence_type" class="form-select" required>
            <option value="">-- Pilih --</option>
            <option value="Urban">Urban</option>
            <option value="Rural">Rural</option>
          </select>
        </div>

        <!-- 8. AVG GLUCOSE -->
        <div class="col-md-4">
          <label class="form-label">Avg Glucose Level</label>
          <input type="number" name="avg_glucose_level"
                 class="form-control" min="0" step="0.01"
                 required placeholder="contoh: 110.50">
        </div>

        <!-- 9. BMI -->
        <div class="col-md-4">
          <label class="form-label">BMI</label>
          <input type="number" name="bmi"
                 class="form-control" min="0" step="0.1"
                 required placeholder="contoh: 27.3">
        </div>

        <!-- 10. SMOKING STATUS -->
        <div class="col-md-4">
          <label class="form-label">Smoking Status</label>
          <select name="smoking_status" class="form-select" required>
            <option value="">-- Pilih --</option>
            <option value="never smoked">never smoked</option>
            <option value="formerly smoked">formerly smoked</option>
            <option value="smokes">smokes</option>
            <option value="Unknown">Unknown</option>
          </select>
        </div>

        <!-- BUTTON -->
        <div class="col-12 text-center mt-4">
          <button type="submit" class="btn btn-primary btn-lg px-5">
            Prediksi Sekarang
          </button>
        </div>

      </form>

      <!-- ERROR -->
      {% if error %}
      <div class="alert alert-danger text-center mt-4 fw-bold">
        Error: {{ error }}
      </div>
      {% endif %}

      <!-- 11. OUTPUT STROKE -->
      {% if prediction %}
      <div class="alert alert-info text-center mt-4 fw-bold prediksi-box prediksi-glow">
        <div><b>Stroke:</b> {{ prediction }}</div>
        <div>Probabilitas (Sigmoid): <b>{{ probability }}</b></div>
      </div>
      {% endif %}

    </div>

    <footer class="text-center mt-4">
      Â© 2025 | Purnamasari Siregar â€” ANN Stroke Prediction
    </footer>

  </div>
</body>
</html>
